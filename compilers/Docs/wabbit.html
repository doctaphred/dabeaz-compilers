<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.10" />
<title></title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="_wabbit_language_specification">Wabbit Language Specification</h2>
<div class="sectionbody">
<div class="paragraph"><p>This document serves as a reference to the Wabbit language which you will
be compiling.</p></div>
<div class="sect2">
<h3 id="_1_lexical_conventions_and_syntax">1. Lexical Conventions and Syntax</h3>
<div class="paragraph"><p>Each statement is terminated by a semicolon.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>print 3;
var a int = 4;</code></pre>
</div></div>
<div class="paragraph"><p>A single-line comment is denoted by <code>//</code>.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var a int = 4;    // This is a comment</code></pre>
</div></div>
<div class="paragraph"><p>Multiline comments can be written using <code>/* ... */</code>. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>/*
 This is a multiline
 comment.
*/</code></pre>
</div></div>
<div class="paragraph"><p>An identifier is a name used to identify variables, constants, and
functions.  Identifiers can include letters, numbers, and the
underscore (_), but must always start with a non-numeric character.
Wabbit follows the same rules as Python.  The following reserved words
may not be used as an identifier:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>break const continue else import false func if print return true while var</code></pre>
</div></div>
<div class="paragraph"><p>A numeric literal such as 12345 is intepreted as an integer.  A
numeric literal involving a decimal point such as 1.2345 is
interpreted as a floating point number.  The literals ``true`` and
``false`` are interpreted as booleans.</p></div>
<div class="paragraph"><p>A character literal such as <code>'h'</code> is interpreted as a single
text character. Escape codes such as <code>\'</code>, <code>\n</code>, <code>\\</code>, and <code>\xhh</code>
are to be interpreted in the usual way.</p></div>
<div class="paragraph"><p>The following operators symbols are recognized:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>+  -  *  /  &lt;  &lt;= &gt; &gt;= == != ! &amp;&amp; || ` ^</code></pre>
</div></div>
<div class="paragraph"><p>The following tokens serve as delimiters in expressions, function calls,
and function definitions:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>(  )  , { } ;</code></pre>
</div></div>
<div class="paragraph"><p>Curly braces are used to enclose blocks of statements. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>if (a &lt; b) {
   statement1;
   statement2;
} else {
   statement3;
   statement4;
}</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_2_types">2. Types</h3>
<div class="paragraph"><p>There are four built-in datatypes; <code>int</code>, <code>float</code>, <code>char</code>, and
<code>bool</code>.</p></div>
<div class="paragraph"><p><code>int</code> is a signed 32-bit integer.  <code>float</code> is a 64-bit double precision
floating point number.  <code>char</code> is a single character, represented
as a byte. <code>bool</code> represents the boolean values <code>true</code> and <code>false</code>.</p></div>
<div class="paragraph"><p>Variables are always declared before use.  They must have a type and
optional initializer.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var a int;
var b float = 3.14159;
var c bool;
var d char = 'h';</code></pre>
</div></div>
<div class="paragraph"><p>When given an initializer, the type may be omitted&#8212;in which case
the type is inferred from the initial value.  For example, these
declarations are legal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var b = 3.14159;
var d = 'h';</code></pre>
</div></div>
<div class="paragraph"><p>Immutable variables may be declared using <code>const</code>.  <code>const</code>
declarations must included an initializer.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>const e = 4;        // Integer constant
const f = 2.71828;  // Float constant
const g = true;     // Bool constant
const h = 'h';      // Char constant</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_3_operators_and_expressions">3. Operators and Expressions</h3>
<div class="sect3">
<h4 id="_3_1_numeric_operators">3.1 Numeric operators</h4>
<div class="paragraph"><p>Numeric types support the binary operators <code>+</code>, <code>-</code>, <code>*</code>, and
<code>/</code> with their standard mathematical meaning.  Operators require
both operands to be of the same type.  For example, <code>x / y</code> is only
legal if <code>x</code> and <code>y</code> are the same type.  The result type is always
the same type as the operands.   Note: for integer division, the result
is an integer and is truncated.</p></div>
<div class="paragraph"><p>Numeric types also support the unary operators of <code>+</code> and <code>-</code>. For
example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>z = -y;
z = x * -y;</code></pre>
</div></div>
<div class="paragraph"><p>No automatic type coercion is performed.  Thus, integers and floats
can not be mixed together in an operator.  If this is desired,
one of the values may be converted to the other using an
explicit type cast.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var a = 2;
var b = 2.5;
var c float = float(a) + b;  // Explicit cast (a-&gt;float)
var d int = a + int(b);      // Explicit cast (b-&gt;int)</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_3_2_character_operations">3.2 Character operations</h4>
<div class="paragraph"><p>Character literals support no operations whatever.  A character is simply
a "character" and that&#8217;s it.</p></div>
</div>
<div class="sect3">
<h4 id="_3_3_relations">3.3 Relations</h4>
<div class="paragraph"><p>The operators <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, and <code>!=</code> can
be used to compare two values and have the standard meaning found in
Python.   The two operands must be of the same type.</p></div>
<div class="paragraph"><p>The logical operators <code>&amp;&amp;</code>, <code>||</code>, and <code>!</code> implement the logical
and, logical-or, and logical negation operations.  These operators only
work on boolean values.   Thus, the following expressions are legal:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>(a &lt; 3) &amp;&amp; (a &gt; 0)
!(a == 0)</code></pre>
</div></div>
<div class="paragraph"><p>Expressions such as the following are illegal unless <code>a</code> and <code>b</code> are
of type <code>bool</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>a &amp;&amp; b;     // Illegal unless a,b are bools</code></pre>
</div></div>
<div class="paragraph"><p>Although character literals support no mathematical operators, they are
comparable.</p></div>
</div>
<div class="sect3">
<h4 id="_3_4_boolean_types_and_operators">3.4 Boolean types and operators</h4>
<div class="paragraph"><p>Boolean types only support the operators <code>==</code>, <code>!=</code>, <code>&amp;&amp;</code>,
<code>||</code>, and <code>!</code>.  In particular, boolean values are not equivalent
to integers and can not be used in mathematical operators involving
numbers.</p></div>
</div>
<div class="sect3">
<h4 id="_3_5_associativity_and_precedence_rules">3.5 Associativity and precedence rules</h4>
<div class="paragraph"><p>All operators are left-associative.   The following chart shows the
precedence rules from highest to lowest precedence:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>+, -, !, ^, `  (unary)   // Highest precedence
*, /
+, -
&lt;, &lt;=, &gt;, &gt;=, ==, !=
&amp;&amp;
||                       // Lowest precedence</code></pre>
</div></div>
<div class="paragraph"><p>Relational operators may NOT be chained or associate together. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>a &lt; b &amp;&amp; b &lt; c        // OK
a &lt; b &lt; c             // Illegal</code></pre>
</div></div>
</div>
<div class="sect3">
<h4 id="_3_6_short_circuit_evaluation">3.6 Short-circuit evaluation</h4>
<div class="paragraph"><p>The logical operators <code>&amp;&amp;</code> and <code>||</code> should implement short-circuit behavior
in evaluation.   That is, in the expression <code>a &amp;&amp; b</code>, if <code>a</code> evaluates
to <code>false</code>, then <code>b</code> is not evaluated.  Similarly, if <code>a</code> evaluates
to <code>true</code>, then <code>a || b</code> does not evaluate <code>b</code>.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_4_control_flow">4. Control Flow</h3>
<div class="paragraph"><p>The <code>if</code> statement is used for conditions. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>if (a &lt; b) {
   statements;
   ...
} else {
   statements;
   ...
}</code></pre>
</div></div>
<div class="paragraph"><p>The conditional expression used to test must evaluate to a <code>bool</code>.
Code such as the following is an error unless <code>a</code> has type <code>bool</code>:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>if (a) {     // Illegal unless a is type bool
   ...
}</code></pre>
</div></div>
<div class="paragraph"><p>The <code>else</code> clause is optional.</p></div>
<div class="paragraph"><p>The <code>while</code> statement can be used to execute a loop.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>while (n &lt; 10) {
    statements;
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>This executes the enclosed statements as long as the associated
condition is <code>true</code>.   Again, the conditional expression must
evaluate to type <code>bool</code>.</p></div>
<div class="paragraph"><p>The <code>break</code> statement can be used to break out of a loop early.  For example, this
code only prints the numbers 0, 1, &#8230;, 4:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var n int = 0;
while n &lt; 10 {
    statements;
    if (n == 5) {
        break;
    }
    print n;
    n = n + 1;
}</code></pre>
</div></div>
<div class="paragraph"><p>The <code>continue</code> statement can be used to jump back to the top of a loop, ignoring
the remainder of the loop body.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var n int = 0;
while n &lt; 10 {
    statements;
    if n == 5 {
       continue;   // Skip to next iteration
    }
    print n;
    n = n + 1;
}</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_5_functions">5. Functions</h3>
<div class="paragraph"><p>Functions can be defined using the <code>func</code> keyword as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>func fib(n int) int {
    if (n &lt;= 2) {
       return 1;
    } else {
       return fib(n-1) + fib(n-2);
    }
}</code></pre>
</div></div>
<div class="paragraph"><p>Functions must supply types for the input parameters and return value as shown.</p></div>
<div class="paragraph"><p>External functions can be declared using <code>import</code> as follows:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>import func sin(x float) float;</code></pre>
</div></div>
<div class="paragraph"><p>These functions must already exist somewhere in the runtime
environment.  How that actually happens might be resolved by the
linker or loader.  The exact details are not our concern.</p></div>
<div class="paragraph"><p>When calling a function, all function arguments are fully evaluated
prior to making the associated function call.   That is, in a
call such as <code>foo(a,b,c)</code>, the arguments <code>a</code>, <code>b</code>, and <code>c</code>
are fully evaluated to a value first. This is known as "applicative
evaluation order."</p></div>
</div>
<div class="sect2">
<h3 id="_6_scoping_rules">6.  Scoping rules</h3>
<div class="paragraph"><p>Declarations are placed into one of two scopes.  Declarations defined
outside of a function are global. Declarations inside a function are
local.   Local declarations are not visible to any other part of a
program except for code in the same function.  Statements inside a
function can access declarations in local or global scope.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var a int;     // Global variable

func foo(b int) int {
    var c int;          // Local variable
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>Nested function definitions and closures are not supported.  For
example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>func foo(b int) int {
     func bar(c int) int {   // Illegal. Nested functions not allowed
         ...
     }
     ...
}</code></pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_7_main_entry_point_and_initialization">7.  Main entry point and initialization</h3>
<div class="paragraph"><p>Programs always begin execution in a function <code>main()</code> which takes
no arguments and returns an integer result.  For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>func main() int {
    var i int = 0;
    while (i &lt; N) {
       print fib(i);
       i = i + 1;
    }
    return 0;
}</code></pre>
</div></div>
<div class="paragraph"><p>Any initialization steps related to global variables must execute
prior to the invocation of <code>main()</code>.   For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var a int = 4;
var b int = 5;
var c int = a + b;     // Evaluates prior to main()
...
func main() int {
   ...
}</code></pre>
</div></div>
<div class="paragraph"><p>If there is no <code>main()</code> function, any kind of "scripting" statements
will still execute as part of the initialization step.  Your compiler
should emit a dummy main() function in this case.</p></div>
</div>
<div class="sect2">
<h3 id="_8_printing">8. Printing</h3>
<div class="paragraph"><p>The built-in <code>print value</code> operation can be used for debugging
output.  It prints the value of any type given to it.  Values are
normally printed on separate lines.  However, if you print a single
character value, it is printed with no line break.</p></div>
</div>
<div class="sect2">
<h3 id="_9_memory_access">9. Memory Access</h3>
<div class="paragraph"><p>No programming language is complete without some kind of crazy feature
and Wabbit has just that in the form of direct memory access.  In
Wabbit, all of memory is treated as a giant array of bytes.  Memory
addresses are integers starting at 0.  To access any particular memory
location, apply the backtick (<code>`</code>) operator to any integer value. For
example, these operations store values:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>`128 = 45;        // Save the int 45 at memory address 128
`128 = 4.5;       // Save the float 4.5 at memory address 128
`128 = 'x';       // Save the byte 'x' at memory address 128</code></pre>
</div></div>
<div class="paragraph"><p>The associated datatype for memory access is inferred from context.
For example, in the above example, the statement <code>`128 = 45</code> knows
that it&#8217;s storing an integer because 45 is an integer.</p></div>
<div class="paragraph"><p>This also works in loops and with expressions.  This is how you&#8217;d
write out some array values into memory starting at address 1000:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var addr int = 1000;
var n int = 0;
while n &lt; 100 {
     `(addr + n*4) = n;
      n = n + 1;
}</code></pre>
</div></div>
<div class="paragraph"><p>If you want to read from memory, use the backtick as an expression.
Here&#8217;s how you could total up the above numbers:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var total int = 0;
var addr int = 0;
var n int = 0;
while n &lt; 100 {
     total = total + `(addr + n*4);
     n = n + 1;
}
print total;</code></pre>
</div></div>
<div class="paragraph"><p>The size of memory can be obtained and adjusted using the so-called "Grow" operator
<code>^</code>.  Here is how you can get the size:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>var memsize int = ^0;     // Get current memory size</code></pre>
</div></div>
<div class="paragraph"><p>To increase the memory size, give an increment to the <code>^</code>
operator. For example:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>memsize = ^(memsize + 16384);   // Increase by 16K</code></pre>
</div></div>
<div class="paragraph"><p>The behavior of attempting to decrease the size of memory is currently
undefined (and may be unsupported).</p></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated
 2019-06-09 21:05:54 CDT
</div>
</div>
</body>
</html>
